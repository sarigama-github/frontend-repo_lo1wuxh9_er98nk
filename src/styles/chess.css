/* Chessboard Background + Pawn animations */

:root{
  --bg-dark: #0b0f1a; /* deep navy */
  --bg-darker: #070a12;
  --gold: #d4af37;
  --silver: #c0c7d1;
  --accent: #41b3ff;
}

/* Container that hosts the parallax board */
.chessboard-bg{
  position: relative;
  min-height: 100vh;
  width: 100%;
  overflow: hidden;
  background:
    radial-gradient(1200px 800px at calc(50% + var(--mx,0)*60px) calc(20% + var(--my,0)*40px), rgba(65,179,255,0.12), transparent 60%),
    linear-gradient(180deg, rgba(212,175,55,0.10), rgba(11,15,26,0.0) 50%),
    linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.0) 40%),
    var(--bg-darker);
}

/* Pseudo 3D chessboard using layered repeating-linear-gradients */
.chessboard-bg::before{
  content: "";
  position: absolute; inset: -10% -10% -10% -10%;
  background:
    repeating-linear-gradient(45deg,
      rgba(255,255,255,0.06) 0 32px,
      rgba(0,0,0,0.12) 32px 64px),
    repeating-linear-gradient(-45deg,
      rgba(0,0,0,0.10) 0 32px,
      rgba(255,255,255,0.05) 32px 64px);
  transform: perspective(900px) rotateX(55deg) translateY(10vh) scale(1.4);
  transform-origin: center top;
  filter: blur(0.3px) saturate(0.9);
  opacity: 0.9;
}

/* Subtle parallax drift for entire board via CSS variables */
.chessboard-bg::before{
  will-change: transform;
  transition: transform 400ms cubic-bezier(.2,.8,.2,1);
}

.chessboard-bg:hover::before{
  transform:
    perspective(900px) rotateX(55deg)
    translateY(calc(10vh + var(--my,0) * 8vh))
    translateX(calc(var(--mx,0) * 4vw))
    scale(1.4);
}

/* Floating pawns */
.pawn{
  position: absolute;
  transform: translate(-50%, -50%);
  pointer-events: none;
  animation: float 6.5s ease-in-out infinite, sway 7.5s ease-in-out infinite;
  opacity: 0.9;
}
.pawn svg{ display:block; filter: drop-shadow(0 6px 10px rgba(0,0,0,.25)); }
.pawn-clickable{ pointer-events: auto; cursor: pointer; }
.pawn-clickable:hover{ transform: translate(-50%, -50%) scale(1.06) rotate(-1deg); }

@keyframes float{
  0%,100%{ transform: translate(-50%, -52%) }
  50%{ transform: translate(-50%, -48%) }
}
@keyframes sway{
  0%,100%{ rotate: 0deg }
  50%{ rotate: 2deg }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce){
  .pawn{ animation: none }
  .chessboard-bg::before{ transition: none; transform: perspective(900px) rotateX(55deg) translateY(10vh) scale(1.4); }
}
